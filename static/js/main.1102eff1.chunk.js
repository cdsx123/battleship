(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{13:function(t,e,a){},14:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),i=a(7),s=a.n(i),o=(a(13),a(1)),u=a(2),c=a(4),l=a(3),h=a(5),p=function(t){Object(c.a)(a,t);var e=Object(l.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).state={boxes:[],hit:0},r.hit=r.hit.bind(Object(h.a)(r)),r}return Object(u.a)(a,[{key:"hit",value:function(t){this.setState((function(e){var a=e.boxes;return a[t]="hit",console.log("hit at "+t),{boxes:a,hit:e.hit+1}}))}},{key:"componentDidMount",value:function(){var t=this;this.setState((function(){for(var e=[],a=0;a<t.props.boxes;a++)e.push("");return{boxes:e}}))}},{key:"componentDidUpdate",value:function(){this.state.boxes[this.props.pos]||this.hit(this.props.pos)}},{key:"render",value:function(){return n.a.createElement("div",null)}}]),a}(r.Component),b=function(t){Object(c.a)(a,t);var e=Object(l.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).state={turn:r.props.turn},r}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null)}}]),a}(r.Component),m=function(t){Object(c.a)(a,t);var e=Object(l.a)(a);function a(t){var r;return Object(o.a)(this,a),(r=e.call(this,t)).checkSunk=function(){r.setState((function(t){var e=0,a=t.numHits,r=t.sunkShips,n=!1;for(var i in a)a[i]>=t.shipLength[i]&&(r[i]=!0);for(var s in r)r[s]&&(e+=1);return e>=5&&(n=!0),{allSunk:n,sunkShips:r}}),(function(){r.state.allSunk&&r.gameEnd()}))},r.gameEnd=function(){"2"===r.props.boardNum?alert("Player 1 Wins"):alert("Player 2 Wins!")},r.place=function(t,e){var a=r.state.shipLength[e];r.setState((function(r){for(var n=r.board,i=0;i<n.length;i++)n[i]=n[i].replace(e,"");for(var s=-1;s<a-1;s++)n[t+s]=e;return{board:n}}))},r.recieveAttack=function(t){r.setState((function(e){for(var a=e.board,r=0;r<5;r++){var n=e.shipNames[r];if(a[t]===n){for(var i=1;i<6;i++)if(a[t-i]!==n){var s=e.turn;s++;var o=e.hitPos;o[n]=i-1,a[t]="hit";var u=e.numHits;return u[n]+=1,{board:a,hitPos:o,numHits:u,turn:s}}}else if(""===a[t]){a[t]="attacked";var c=e.turn;return{board:a,turn:++c}}}}),(function(){console.log(r.state.turn),r.checkSunk()}))},r.handleClick=function(t){var e=t.target.id.slice(0,t.target.id.length-1);r.setState({attackPos:e},(function(){"attacked"!==r.state.board[r.state.attackPos]&&"hit"!==r.state.board[r.state.attackPos]&&(r.state.turn!==r.props.boardNum%2&&r.state.turn!==r.props.boardNum%2+2||r.recieveAttack(r.state.attackPos))}))},r.state={turn:1,attackPos:"",board:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shipLength:{Carrier:5,Battleship:4,Cruiser:3,Submarine:3,Destroyer:2},shipNames:["Carrier","Battleship","Cruiser","Submarine","Destroyer"],sunkShips:{Carrier:!1,Battleship:!1,Cruiser:!1,Submarine:!1,Destroyer:!1},allSunk:!1,hitPos:{Carrier:0,Battleship:0,Cruiser:0,Submarine:0,Destroyer:0},numHits:{Carrier:0,Battleship:0,Cruiser:0,Submarine:0,Destroyer:0}},r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){for(var t=0,e=1;e<50;e+=10)this.place(e,this.state.shipNames[t]),t++}},{key:"render",value:function(){for(var t=this,e=this.state.board.map((function(e,a){var r="box",i="";"attacked"===e?r="box attacked":"hit"===e&&(r="box hit",i="X");for(var s=0;s<5;s++)t.props.invisible&&e===t.state.shipNames[s]?r="box":e===t.state.shipNames[s]&&(r="box shipBox");return n.a.createElement("div",{className:r,key:a,id:a+t.props.boardNum},i)})),a=[],r=0;r<5;r++){var i=this.state.shipNames[r],s=!1;!0===this.props.invisible&&(s="invisible"),a.push(n.a.createElement(p,{boxes:this.state.shipLength[i],key:i+this.props.boardNum,name:i+this.props.boardNum,pos:this.state.hitPos[i],invisible:s}))}return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"board",onClick:this.handleClick},e,a),n.a.createElement(b,{turn:this.state.turn}))}}]),a}(r.Component),v=function(t){Object(c.a)(a,t);var e=Object(l.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).state={turn:0,attackPos1:"",attackPos2:"",board1:Array(100),board2:Array(100)},t}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m,{boardNum:"1",invisible:!1}),n.a.createElement(m,{boardNum:"2",invisible:!0}),n.a.createElement(b,{turn:this.state.turn}))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},8:function(t,e,a){t.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.1102eff1.chunk.js.map